<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>Yodlr Admin Page</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- going to render the users here -->
  <div id="users-list"></div>
    <script>
      // fetch the user data and render it on this page
      fetch('/users')
        .then(response => response.json())
        .then(users => {
          const userListDiv = document.getElementById('users-list');
          userListDiv.innerHTML = '<h2>Current Users</h2>'
          users.forEach(user => {
            userListDiv.innerHTML += `
            <div class="user-info">
              <p>ID: ${user.id}</p>
              <p>Email: ${user.email}</p>
              <p>First Name: ${user.firstName}</p>
              <p>Last Name: ${user.lastName}</p>
              <p>Status: ${user.state}</p>
              <button class="user-info-button" onClick="window.location.href='/users/${user.id}'">view</button>
            `
          });
        }).catch(error => console.error('Error fetching users:', errors));
    </script>
</body>
</html>
